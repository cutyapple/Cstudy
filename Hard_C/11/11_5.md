# 11.5 변수와 메모리

변수의 본질은 메모리이다. 
개념적으론 주기억장치 메모리를 의미한다.
우리가 사용할 수 있는 메모리는 스택, 힙, 텍스트, 데이터 영역의 메모리이다.
보통 변수를 선언하는 것은 함수 내부에 속한 지역변수를 의미하며,
지역변수는 스택(stack) 영역이다. 스택 구조의 메모리는 관리가
자동으로 이루어지므로, 자동변수라고도 부른다.

사실 변수를 선언할 때는 어떤 메모리를 쓸 것인지 명시해야 한다.
그러나 아무런 언급이 없는 지역변수는 컴파일러가 자동변수로 처리한다.

변수를 선언할 때 자료형 앞에 메모리 종류를 명시하는 예약어를
기억부류 지정자(storage-class specifier)라 한다.

예를 들어, extern, auto, static, register 등이 있다.
각각 외부, 자동, 정적, 레지스터라 부른다.
'레지스터'는 일반 메모리가 아닌 CPU가 가진 메모리이다.
입/출력 속도가 CPU와 같기 때문에 컴퓨터에서 가장 빠른 메모리이다.

```C
#include <stido.h>
int main(int argc, char* argv[]){
    auto int aList[3] = {10, 20, 30};
    auto int i = 0;
    
    for( i = 0; i < 3; ++i )
        printf("%d\t", aList[i]);
    
    return 1;
}
```

본래 변수를 선언 및 정의할 때는 **기억부류지정자 자료형 변수이름  = 초깃값;**
의 형태로 기술해야 한다.  (C++과는 다르다.)
전역변수 혹은 정적변수가 사용하는 데이터 영역 메모리는 프로그램이
시작될 때 확보되어 종료될 때까지 그대로 유지된다.

## 11.5.1 정적변수 static

```C
#include <stdio.h>
int Func(void){
    //접근성은 Func() 내부로 제한된 지역변수이나
    //기억부류는 스태이 아니라 데이터 여역인 '정적'변수 선언 및 정의
    //정의는 이 함수가 여러 번 호출되더라도 단 한 번만 적용된다.
    static int nData = 10;
    
    //nData의 값이 변경됐다.
    //정적변수이므로 이 변경된 값은 함수가 반환되더라도 유지된다.
    ++nData;
    return nData;
}

int main(int argc, char* argv[]){
    printf("%d\n", Func());
    printf("%d\n", Func());
    printf("%d\n", Func());
  
    return 1;
}
```

정적변수를 선언하려면 static 예약어를 사용해야 한다.
정적변수는 전역변수처럼 선언될 때 단 한 번만 초기화된다.

즉, nData = 10은 한 번만 이루어 진다.
또한, 함수가 반환해도(메모리가 사라지지 않으므로) 전역변수처럼 존재한다.

## 11.5.2 레지스터 변수 register

레지스터 변수는 CPU의 일부이므로 별도로 주소가 없다.
CPU의 일부인 레지스터는 일반 메모리와 달리 주소가 아니라
고유명사로 식별된다. 
즉, 레지스터 변수에 대해 일반 변수처럼 주소연산을 
수행할 수 없다.

### CutyApple