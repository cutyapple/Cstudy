# 3.4 표준 입출력 도구 - scanf() 함수

`int scanf(const char *format [,argument]...);`
-----|-----
인자 | format : 형식 문자열이 저장된 메모리의 주소. [, argument] : 형식 문장열에 대응하는 가변 인자들.
반환값 | 입력할 문자열의 개수
설명 | 형식 문자열에 맞추어, 표준입력장치(stdin)로부터 정보를 읽어들이는 함수이다. 가변인자는 사용자가 입력한 값이 저장될 메모리의 주소(들)이다.

## 3.4.1 정수 입력
gets() 함수는 매개변수로 사용자가 입력한 문자열이 저장될 메모리의 주소를 넘긴다. scanf() 가변인자가 메모리의 주소인 이유는 gets() 함수와 같다. 즉, 변수의 주소를 의미하는 `&`를 사용하여 인수를 넘겨야 한다.

``` C
#include <stdio.h>
int main(void){
    int n = 0;
    scanf("%d", &n);
    // 변수 n에 &를 붙여 인수를 넘김.
}
```

### 필수실습문제 03-01
나이와 이름을 입력받아 한 행으로 출력하는 프로그램
``` C
#include <stdio.h>
int main(void) {
	int age = 0;
	char name[32] = { ' ' };

	printf("나이를 입력하세요. : ");
	scanf("%d%*c", &age);  // age에 주소를 의미하는 &을 넘김.
	printf("이름을 입력하세요. : ");
	gets(name);

	printf("당신의 나이는 %d살이고 이름은 '%s'입니다.", age, name);

	return 1;
}
```
getchar(), gets(), scanf() 함수들은 사용자의 키보드 입력 완료를 `<Enter>`키로 받는다. 만약, scanf() 함수에 개행문자 ('\n')를 포함하면 잘못된 형식이 된다.

## 3.4.2 두 정수의 입력 및 구분

scanf() 함수도 printf() 함수 처럼 형식 문자열 안에 여러 형식 문자를 사용할 수 있다. 즉, 매개변수의 수가 늘어나는데. 
`scanf("%d%d", &a, &b);`
라는 식은 사용자에게 어떻게 입력을 받을까. 이렇게 붙이는 형식을 사용하면 white space (빈칸, tab, 개행문자 등)를 구분한다. 즉, "%d%c%d" 로 받아도 "3A4"로 받는다는 뜻이다.

## 3.4.3 문자 입력

scanf() 함수로 문자를 입력 받으려면 %c를 받으면 된다. 작동은 getchar() 함수와 비슷하다. 그러나 이는 gets() 처럼 보안 경고가 날 것이다. 때문에, scanf() 대신 scanf_s() 함수로 변경하면 된다.
> `scanf_s("%c", &ch, sizeof(ch));`   
형식문자, 저장될 메모리의 주소, 그 메모리의 바이트 크기를 인수로 전달하면 된다.

## 3.4.4 문자열 입력

%s를 이용하면 scanf() 함수도 gets() 함수처럼 문자열을 받을 수 있다. 그러나 %s는 공백문자를 포함한 문자열을 입력받을 수 없다. 공백을 포함한 문자열은 gets() 함수를 사용하면 된다.

scanf() 함수 호출시 사용자 입력의 완료를 의미하는 `<Enter>`키 입력이 버퍼에 남는다. gets() 함수를 그 뒤에 사용하면, 버퍼에 나마있는 개행문자가 들어가 입력이 완료된다. 이를 해결하기 위해서는 두 가지 방법이 있다.
1. `fflush(stdin)` 함수로 버퍼안에 남은 것들을 모두 비운 후 입력을 받는다. (윈도우 환경만)
2. `scanf("%d%*c", &name);` 으로 개행문자를 버린다. %와 형식 문자 사이의 *는 버림을 의미한다.

### CutyApple